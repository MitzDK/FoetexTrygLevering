@page
@model FoetexTrygLevering.Pages.Users.Admin.GetAllUsersModel
@{
    Layout = "Shared/_AdminLayout";
}
<h1>User Information</h1>
<table class="table">
    <tr>
        <th>
            <div>
                <h5>Search by User ID</h5>
                <form method="post">
                    <input asp-for="@Model.SearchID" class="form-control" placeholder="Enter search term"/>
                    <input type="submit" asp-page-handler="IDSearch" value="Search" width="280" class="btn btn-success"/>
                </form>
            </div>
        </th>
        <th>
            <div>
                <h5>Search by Name</h5>
                <form method="post">
                    <input asp-for="@Model.Name" class="form-control" placeholder="Enter search term" />
                    <input type="submit" asp-page-handler="NameSearch" value="Search" width="280" class="btn btn-success" />
                </form>
            </div>
        </th>
        <th>
            <div>
                <h5>Search by E-mail</h5>
                <form method="post">
                    <input asp-for="@Model.Email" class="form-control" placeholder="Enter search term" />
                    <input type="submit" asp-page-handler="EmailSearch" value="Search" width="280" class="btn btn-success" />
                </form>
            </div>
        </th>
        <th>
            <div>
                <h5>Search by Phone #</h5>
                <form method="post">
                    <input asp-for="@Model.Phone" class="form-control" placeholder="Enter search term" />
                    <input type="submit" asp-page-handler="PhoneSearch" value="Search" width="280" class="btn btn-success" />
                </form>
            </div>
        </th>
    </tr>
</table>



<table class="table table-borderless table-hover table-striped table-opacity" width="40%">
    <thead>
        <tr>
            <th>
                User ID
            </th>
            <th>
                Name
            </th>
            <th>
                E-mail
            </th>
            <th>
                Phone #
            </th>
            <th>
                Actions
            </th>
        </tr>
    </thead>


    <tbody>
        @if (@Model.ListUsers != null)
        {
            foreach (var user in Model.ListUsers)
            {
                if (user is Models.Users.Admin && user != null)
                {
                    <tr>

                        <td>
                            @user.UserID
                        </td>
                        <td>
                            @user.Name
                        </td>
                        <td>
                            @user.Email
                        </td>
                        <td>
                            @user.Phone
                        </td>
                        <td>
                        </td>
                    </tr>
                }
                if (!(user is Models.Users.Admin) && user != null)
                {
                    <tr>

                        <td>
                            @user.UserID
                        </td>
                        <td>
                            @user.Name
                        </td>
                        <td>
                            @user.Email
                        </td>
                        <td>
                            @user.Phone
                        </td>
                        <td>
                            <div class="myContainer">
                                <form method="post">
                                    <div class="align-left">
                                        <a class="btn btn-primary btn-sm" type="button" data-toggle="tooltip" title="Edit" asp-page="EditUser" asp-route-id="@user.UserID"><i class="fa fa-edit"></i></a>
                                    </div>
                                </form>
                                <form method="post">
                                    <div class="align-right">
                                        <a class="btn btn-danger btn-sm " type="button" data-toggle="tooltip" data-placement="top" title="Delete" asp-page="DeleteUser" asp-route-id="@user.UserID"><i class="fa fa-trash"></i></a>
                                    </div>
                                </form>
                            </div>
                        </td>
                    </tr>
                }
            }
        }
    </tbody>
</table>

